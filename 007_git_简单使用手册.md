# Git å®ç”¨æ•™ç¨‹ Â· 2026 ç°ä»£ä¸ªäºº/å°å›¢é˜Ÿç‰ˆ

> ä½œè€…ï¼šWuDiXianXinï¼ˆåŸºäºç¤¾åŒºæœ€ä½³å®è·µæŒç»­æ›´æ–°ï¼‰  
> ç›®æ ‡äººç¾¤ï¼šä¸ªäººå¼€å‘è€…ã€å°å›¢é˜Ÿã€åŒæ—¶ä½¿ç”¨ GitHub + Gitee çš„åŒå­¦  
> å½“å‰æ¨èé£æ ¼ï¼š**Trunk-based development**ï¼ˆä¸»å¹²å¼€å‘ï¼‰ + çŸ­ç”Ÿå‘½å‘¨æœŸç‰¹æ€§åˆ†æ”¯ï¼ˆæœ€ä¸»æµåšæ³•ï¼‰

## 0. ä¸ºä»€ä¹ˆç°åœ¨å¤§å®¶æ›´å€¾å‘äº main + çŸ­ç‰¹æ€§åˆ†æ”¯ï¼Ÿ

2023~2026 å¹´ä¸»æµè¶‹åŠ¿å·²ç»ä»ä¼ ç»Ÿçš„ GitFlow è½¬å‘æ›´è½»é‡çš„ **Trunk-based development** / **GitHub Flow** é£æ ¼ï¼š

- main åˆ†æ”¯å§‹ç»ˆä¿æŒå¯éƒ¨ç½²çŠ¶æ€
- ç‰¹æ€§/ä¿®å¤éƒ½å¼€çŸ­ç”Ÿå‘½å‘¨æœŸåˆ†æ”¯ï¼ˆé€šå¸¸1~4å¤©å†…åˆå¹¶ï¼‰
- é€šè¿‡ Pull Request è¿›è¡Œ Code Review
- é¢‘ç¹å°æ­¥æäº¤ & åˆå¹¶ï¼Œå‡å°‘å†²çª
- CI/CD å‹å¥½

**GitFlow**ï¼ˆdevelop + release + hotfixï¼‰ç°åœ¨å¤šç”¨äºæœ‰ä¸¥æ ¼å‘å¸ƒå‘¨æœŸçš„å¤§å‹é¡¹ç›®æˆ–éœ€è¦åŒæ—¶ç»´æŠ¤å¤šä¸ªå†å²ç‰ˆæœ¬çš„äº§å“ã€‚

## ä¸€ã€ä¸€æ¬¡å°±å¥½ - å…¨å±€æ¨èé…ç½®ï¼ˆ2026å»ºè®®ï¼‰

```bash
# åŸºæœ¬èº«ä»½ï¼ˆå¿…é¡»ï¼‰
git config --global user.name "WuDiXianXin"
git config --global user.email "your-real-email@example.com"

# ç°ä»£é»˜è®¤ä¸»åˆ†æ”¯ï¼ˆå‡ ä¹æ‰€æœ‰å¹³å°é»˜è®¤ mainï¼‰
git config --global init.defaultBranch main

# æ¨èè¡Œä¸ºï¼ˆå¤§å¤§æå‡ä½“éªŒï¼‰
git config --global core.autocrlf input          # Linux/Mac æ¨èï¼ŒWindows ç”¨ true
git config --global core.quotepath false         # æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡è·¯å¾„
git config --global core.editor "code --wait"    # ç”¨ VSCode ä½œä¸ºæäº¤ä¿¡æ¯ç¼–è¾‘å™¨ï¼ˆæˆ– vim/nanoï¼‰
git config --global pull.rebase false            # é»˜è®¤ mergeï¼ˆæ›´å®‰å…¨ï¼‰ï¼Œå–œæ¬¢ rebase å¯æ”¹ true
git config --global fetch.prune true             # è‡ªåŠ¨æ¸…ç†å·²åˆ é™¤çš„è¿œç¨‹åˆ†æ”¯
git config --global push.autoSetupRemote true    # git push æ—¶è‡ªåŠ¨è®¾ç½®ä¸Šæ¸¸ï¼ˆGit 2.37+ï¼‰

# è¶…å¥½ç”¨ï¼šé¢œè‰² + ç®€æ´è¾“å‡º
git config --global color.ui auto
```

## äºŒã€æœ€æ¨èçš„ä»“åº“åˆå§‹åŒ–æµç¨‹ï¼ˆä¸ªäºº/å°é¡¹ç›®ï¼‰

```bash
mkdir awesome-project && cd awesome-project
git init

# æ¨èåˆ›å»ºçš„ã€Œæ ‡é…ä¸‰ä»¶å¥—ã€
echo "# Awesome Project" > README.md
echo "## å¿«é€Ÿå¼€å§‹\n\n\`\`\`bash\n# å¾…è¡¥å……\n\`\`\`" >> README.md

# LICENSEï¼ˆæ¨èå¼€æºåè®®ï¼šMIT / Apache-2.0 / GPL-3.0ï¼‰
# å¿«é€Ÿæ–¹å¼ï¼š
curl -L https://www.mit-license.org/ -o LICENSE

# .gitignoreï¼ˆå¼ºçƒˆå»ºè®®ä½¿ç”¨åœ¨çº¿ç”Ÿæˆå™¨ï¼‰
# æ¨èç½‘ç«™ï¼šhttps://www.toptal.com/developers/gitignore
# å¸¸è§ç»„åˆï¼šNode,Python,JetBrains,Windows,macOS,VSCode,venv,...
# ç¤ºä¾‹æœ€å¸¸ç”¨å‡ è¡Œï¼š
cat <<EOF > .gitignore
# é€šç”¨
.DS_Store
*.log
*.tmp

# ç¼–è¾‘å™¨/IDE
.vscode/
.idea/

# æ„å»º/ä¾èµ–
node_modules/
dist/
build/
EOF

# é¦–æ¬¡æäº¤ï¼ˆç°ä»£ commit message é£æ ¼ï¼‰
git add .
git commit -m "chore: initial project structure with README, LICENSE, .gitignore"

# ç¡®ä¿ä¸»åˆ†æ”¯å« main
git branch -M main

git remote add origin git@github.com:WuDiXianXin/dotfiles.git

git push -u origin main   # ç¬¬ä¸€æ¬¡è¦ -u å»ºç«‹è¿½è¸ªå…³ç³»

```

## ä¸‰ã€åŒæ—¶æ¨ GitHub + Giteeï¼ˆæœ€çœäº‹å†™æ³•ï¼‰

```bash
git remote -v

# 1. å…ˆé‡ç½® origin çš„ fetch åœ°å€ï¼ˆç¡®ä¿æ˜¯ SSHï¼‰
git remote set-url origin git@github.com:WuDiXianXin/open.git

# 2. æ¸…ç©ºæ‰€æœ‰å·²æœ‰çš„ push åœ°å€
git remote set-url --delete --push origin git@github.com:WuDiXianXin/open.git
git remote set-url --delete --push origin git@gitee.com:wudixianxin/open.git

# 3. é‡æ–°æ·»åŠ ä¸¤ä¸ª push åœ°å€ï¼ˆSSH åè®®ï¼‰
git remote set-url --add --push origin git@github.com:WuDiXianXin/open.git
git remote set-url --add --push origin git@gitee.com:wudixianxin/open.git

git push -u origin main   # ç¬¬ä¸€æ¬¡è¦ -u å»ºç«‹è¿½è¸ªå…³ç³»

# ä¹‹åå°±è¿™ä¹ˆç®€å•ï¼š
# æ—¥å¸¸å¼€å‘ â†’ git push  â†’ ä¸¤è¾¹åŒæ—¶æ›´æ–°
```

## å››ã€ç°ä»£æ—¥å¸¸å¼€å‘æ¨èæµç¨‹ï¼ˆTrunk-based é£æ ¼ï¼‰

```text
main    â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–²            â”‚
           â”‚ Pull       â”‚
feature/xx â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   (PR â†’ squash & merge æˆ– rebase merge)
```

å¸¸ç”¨å‘½ä»¤ç»„åˆï¼š

```bash
# 1. æ‹‰å–æœ€æ–°ï¼ˆä¿æŒ main å¹²å‡€ï¼‰
git switch main
git pull

# 2. å¼€æ–°ç‰¹æ€§åˆ†æ”¯ï¼ˆå‘½åæ¨èï¼šç±»å‹/ç®€çŸ­æè¿°ï¼‰
git switch -c feat/add-login-page    # åŠŸèƒ½
git switch -c fix/bug-search-input   # ä¿®å¤
git switch -c refactor/user-service  # é‡æ„

# 3. æ­£å¸¸å¼€å‘ï¼ˆå°½é‡åŸå­æäº¤ï¼‰
git add .
git commit -m "feat: add login page basic layout"
git commit -m "fix: correct form validation logic"

# 4. ä¿æŒä¸ main åŒæ­¥ï¼ˆæ¨è rebase æ–¹å¼ï¼Œæ›´å¹²å‡€å†å²ï¼‰
git fetch
git rebase origin/main               # å†²çª â†’ è§£å†³ â†’ git rebase --continue

# 5. æ¨åˆ†æ”¯ & åˆ›å»º PR
git push -u origin feat/add-login-page

# â†’ å» GitHub/Gitee åˆ›å»º Pull Requestï¼ˆå»ºè®® squash merge æˆ– rebase mergeï¼‰
```

## äº”ã€éå¸¸å®ç”¨çš„ Git åˆ«åï¼ˆæå¤§æå‡æ•ˆç‡ï¼‰

æ·»åŠ åˆ° `~/.gitconfig` çš„ `[alias]` éƒ¨åˆ†ï¼š

```ini
[alias]
    s     = status --short --branch
    ss    = status
    co    = checkout
    cob   = checkout -b
    br    = branch -vv
    ci    = commit
    cim   = commit --amend --no-edit
    ca    = commit --amend
    cm    = commit -m
    d     = diff
    dc    = diff --cached
    ds    = diff --staged
    lg    = log --graph --oneline --decorate --all
    ll    = log --pretty=format:"%C(yellow)%h%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset" --abbrev-commit
    last  = log -1 HEAD --stat
    undo  = reset --soft HEAD~1          # æ’¤é”€æœ€åä¸€æ¬¡æäº¤ä½†ä¿ç•™æ”¹åŠ¨
    wipe  = reset --hard HEAD            # å±é™©ï¼ä¸¢å¼ƒæ‰€æœ‰æœªæäº¤æ”¹åŠ¨
    clean-all = !git clean -fd && git reset --hard HEAD
    sync  = !git pull && git fetch --prune
    fresh = !git fetch --prune && git rebase origin/main
```

ä½¿ç”¨ç¤ºä¾‹ï¼š`git s`ã€`git lg`ã€`git cm "fix: typo"` ç­‰

## å…­ã€å®ç”¨è¿›é˜¶æ“ä½œé€ŸæŸ¥

| åœºæ™¯                              | æ¨èå‘½ä»¤ç»„åˆ                                      | å¤‡æ³¨                             |
|-----------------------------------|---------------------------------------------------|----------------------------------|
| æ’¤é”€æœ€åä¸€æ¬¡ commitï¼ˆä¿ç•™æ”¹åŠ¨ï¼‰   | `git undo` æˆ– `git reset --soft HEAD~1`          | å¸¸ç”¨                             |
| å½»åº•ä¸¢å¼ƒå·¥ä½œåŒºæ‰€æœ‰æ”¹åŠ¨            | `git wipe` æˆ– `git reset --hard HEAD`            | å±é™©ï¼å…ˆç¡®è®¤                     |
| æ¸…ç†æœªè·Ÿè¸ªæ–‡ä»¶                    | `git clean -fd`                                      | -n å…ˆé¢„è§ˆ                        |
| ä»å†å²å½»åº•åˆ é™¤æ•æ„Ÿæ–‡ä»¶            | `git filter-repo --path secrets.env --invert-paths` | ä¹‹åå¼ºåˆ¶æ¨é€                     |
| æ”¹å†™æœ€è¿‘å‡ æ¬¡ commit ä¿¡æ¯          | `git rebase -i HEAD~5`                               | ç”¨ reword/edit ç­‰                |
| å¿«é€ŸåŒæ­¥ main å¹¶å¼€æ–°åˆ†æ”¯          | `git fresh && git cob feat/xxx`                      | ä½¿ç”¨ä¸Šé¢åˆ«å                     |
| å¼ºåˆ¶æ›´æ–°è¿œç¨‹ï¼ˆå±é™©ï¼‰              | `git push --force-with-lease`                        | æ¯” --force æ›´å®‰å…¨                |

## ä¸ƒã€ä¸€äº›ç°ä»£æœ€ä½³å®è·µå»ºè®®ï¼ˆ2026ï¼‰

1. å°½é‡ä½¿ç”¨**è¯­ä¹‰åŒ–æäº¤**ï¼ˆConventional Commitsï¼‰  
   `feat:`ã€`fix:`ã€`docs:`ã€`refactor:`ã€`chore:`ã€`perf:`ã€`test:` ç­‰

2. æäº¤ä¿¡æ¯**ç”¨è‹±æ–‡**ï¼ˆå›¢é˜Ÿåä½œå¿…å¤‡ï¼‰ï¼Œä¸­æ–‡é¡¹ç›®å¯ä¸­è‹±åŒè¯­

3. PR æ ‡é¢˜ä¸æäº¤ä¿¡æ¯ä¿æŒä¸€è‡´ï¼Œä¾¿äºç”Ÿæˆ CHANGELOG

4. ä¸ªäººé¡¹ç›®ä¹Ÿå»ºè®®å…»æˆ**å¼€ PR è‡ªå®¡**çš„ä¹ æƒ¯

5. é‡è¦çš„ä¸ªäººé…ç½®å»ºè®®åšæˆ **dotfiles** ä»“åº“å¹¶åŒæ­¥ GitHub + Gitee

6. å­¦ä¼šå–„ç”¨ `git stash`ã€`git worktree`ã€`git bisect`ï¼ˆæ‰¾é—®é¢˜å§‹ä½œä¿‘è€…ï¼‰

ç¥ä½  Git è¶Šç”¨è¶Šé¡ºæ‰‹ï¼Œä»“åº“æ°¸è¿œå¹²å‡€æ•´æ´ï¼ğŸš€
