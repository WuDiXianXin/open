# git 简单使用教程

> By WuDiXianXin

## 一、简单配置使用

1. **全局设置**  
   需要填写实际信息（与 GitHub/Gitee 等平台账号一致）：

   ```bash
   # 填写你的用户名（如 GitHub 昵称）
   git config --global user.name "你的用户名"
   # 填写你的邮箱（如 GitHub 注册邮箱）
   git config --global user.email "你的邮箱@example.com"
   ```

2. **创建仓库时的初始化文件**  
   新建仓库时，建议添加几个基础文件，让项目更规范（尤其适合开源仓库）：

   ```bash
   mkdir open && cd open
   git init
   # 添加 README.md（项目说明，必加）
   echo "# 项目名称" > README.md
   # 添加许可证文件（如 MIT 许可证，开源项目建议添加）
   curl -O https://opensource.org/licenses/MIT -o LICENSE
   # 添加 .gitignore（忽略不需要提交的文件，如临时文件、日志等）
   echo "*.log" > .gitignore  # 示例：忽略所有 .log 文件
   # 提交初始化文件
   git add .
   git commit -m "Initial commit: add README, LICENSE, .gitignore"
   ```

3. **分支规范**  
   建议使用 `main` 作为主分支（GitHub 等平台默认主分支已从 `master` 改为 `main`），可在初始化后重命名：

   ```bash
   git branch -M main  # 将 master 分支重命名为 main
   ```

4. **添加镜像站的命令**  
   若需要同时推送到多个仓库（如 Gitee 和 GitHub），可以添加多个远程仓库：

   ```bash
   # 添加第一个远程仓库（如 Gitee）
   git remote add origin git@gitee.com:wudixianxin/open.git
   # 添加第二个远程仓库（如 GitHub）
   git remote add github git@github.com:WuDiXianXin/open.git
   # 推送到 Gitee
   git push -u origin main
   # 推送到 GitHub
   git push -u github main
   ```

   或者设置一个远程仓库同时对应多个地址（推送一次同步到多个平台）：

   ```bash
   # 先移除原 origin（如果已添加）
   git remote rm origin
   # 添加同时包含 Gitee 和 GitHub 的远程仓库
   git remote add origin git@gitee.com:wudixianxin/open.git
   git remote set-url --add origin git@github.com:WuDiXianXin/open.git
   # 推送时会同时推送到两个平台
   git push -u origin main
   ```

## 二、推送到 GitHub 的完整流程

```bash
# 1. 全局设置
git config --global user.name "你的GitHub用户名"
git config --global user.email "你的GitHub邮箱"

# 2. 新建仓库并初始化
mkdir open && cd open
git init
# 创建基础文件
echo "# 项目介绍" > README.md  # 详细说明项目功能、使用方法
touch LICENSE  # 写入许可证内容（如 MIT）
touch .gitignore  # 根据项目需求添加忽略规则（可参考 https://gitignore.io）

# 3. 首次提交
git add .
git commit -m "Initial commit"

# 4. 关联 GitHub 远程仓库（先在 GitHub 网页端创建同名空仓库）
git branch -M main  # 确保主分支为 main
git remote add origin git@github.com:WuDiXianXin/open.git  # GitHub 仓库地址

# 5. 首次推送
git push -u origin main

# （可选）添加 Gitee 镜像
git remote set-url --add origin git@gitee.com:wudixianxin/open.git
# 后续推送会同时更新两个平台
git push
```

## 三、注意事项

1. **远程仓库地址选择**  
   - 推荐使用 SSH 地址（`git@github.com:...`），需提前配置 SSH 密钥（避免每次输入密码）。  
   - 若使用 HTTPS 地址（`https://github.com/...`），
   可能需要配置凭据缓存（`git config --global credential.helper cache`）。

2. **分支管理**  
   避免直接在 `main` 分支开发，建议创建功能分支（如 `feature/xxx`），完成后通过 Pull Request 合并。

3. **README.md 规范**  
   至少包含：项目简介、安装方法、使用示例、贡献指南（可选）、许可证信息，让其他开发者快速了解项目。

按以上步骤操作后，你的仓库会更规范，也便于其他人理解和使用。

## 重构仓库

```bash
rm -rf .git
git init
git add .
git commit -m "重构仓库：仅保留当前文件跟踪"
git branch -M main
git remote add origin git@github.com:WuDiXianXin/open.git
git push -u origin main --force
git remote set-url --add origin git@gitee.com:wudixianxin/open.git
git push --force
```
